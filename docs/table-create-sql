
--test01库
CREATE TABLE `user` (
  `uid` bigint(30) NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `description` varchar(11) DEFAULT '' COMMENT '描述',
  `user_name` varchar(11) DEFAULT '' COMMENT '注册用户名',
  `nick_name` varchar(11) DEFAULT '' COMMENT '昵称',
  `mail` varchar(20) DEFAULT '' COMMENT '邮箱',
  `phone` varchar(11) DEFAULT '' COMMENT '电话',
  `pwd` varchar(50) DEFAULT '' COMMENT '密码',
  `head_image` varchar(500) NOT NULL DEFAULT '',
  `create_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='用户表';

CREATE TABLE `session` (
  `session_id` varchar(30) NOT NULL COMMENT 'Session表ID',
  `merchant_id` varchar(30) NOT NULL DEFAULT '1001' COMMENT '商户号,关联merchant_info表merchant_id',
  `user_id` varchar(30) NOT NULL COMMENT '用户ID,关联user表user_id',
  `sid` varchar(30) DEFAULT NULL COMMENT 'Session ID',
  `expire_time` varchar(20) DEFAULT NULL COMMENT '失效时间',
  `source` varchar(20) DEFAULT '' COMMENT '来源 web:web,ios:ios,android:android weixin:weixin',
  `create_time` datetime DEFAULT NULL COMMENT '创建时间',
  `update_time` datetime DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`session_id`),
  KEY `idx_sid_userid_merchantid` (`sid`,`user_id`,`merchant_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='登录Session表';

CREATE TABLE `user_attach` (
  `uid` bigint(30) NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `main_bg_url` varchar(200) NOT NULL DEFAULT '' COMMENT '主页背景图url',
  `create_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COMMENT='用户附属信息表';




--test02


CREATE TABLE `city` (
  `id` bigint(30) NOT NULL AUTO_INCREMENT COMMENT '城市编号',
  `province_id` int(10) NOT NULL COMMENT '省份编号',
  `city_name` varchar(25) NOT NULL,
  `description` varchar(25) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


CREATE TABLE `redis_key` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键id',
  `key` varchar(100) NOT NULL COMMENT 'key',
  `name` varchar(32) NOT NULL COMMENT '简短的名称',
  `description` varchar(1000) NOT NULL COMMENT 'key更加全面的描述',
  `parent_key` varchar(32) NOT NULL COMMENT '父级key',
  `type` varchar(10) NOT NULL COMMENT 'key类型 hash  set string zset list',
  `biz_type` varchar(50) NOT NULL DEFAULT 'others' COMMENT '业务关联类型',
  `create_time` datetime NOT NULL COMMENT '记录创建时间',
  `update_time` datetime NOT NULL COMMENT '最后一次修改时间',
  `available` char(1) NOT NULL DEFAULT '1' COMMENT '有效与否 默认有效1 0无效',
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_key_parent` (`key`,`parent_key`) USING BTREE COMMENT '父子组合必须保持唯一'
) ENGINE=InnoDB AUTO_INCREMENT=122 DEFAULT CHARSET=utf8 COMMENT='redisKey信息表';